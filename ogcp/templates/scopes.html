{% extends 'base.html' %}
{% import "macros.html" as macros %}

{% block nav_scopes %}active{% endblock %}

{% block container %}
    <form id="scopesForm">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    </form>
    {{ super() }}
</form>
{% endblock %}

{% block sidebar %}
  {{ macros.scopes_tree_collapse(scopes) }}
{% endblock %}

{% block commands %}
  <div class="dropdown btn">
    <button class="btn btn-secondary btn-light dropdown-toggle {% block nav_client %}{% endblock %}" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-expanded="false">
        {{ _('Client') }}
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <input class="btn btn-light dropdown-item {% block nav_client_add %}{% endblock %}" type="submit" value="{{ _('Add client') }}"
             form="scopesForm" formaction="{{ url_for('action_client_add') }}" formmethod="get">
      <input class="btn btn-light dropdown-item {% block nav_client_delete %}{% endblock %}" type="submit" value="{{ _('Delete client') }}"
             form="scopesForm" formaction="{{ url_for('action_client_delete') }}" formmethod="get">
    </div>
  </div>
  <div class="dropdown btn">
    <button class="btn btn-secondary btn-light dropdown-toggle {% block nav_room %}{% endblock %}" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-expanded="false">
        {{ _('Room') }}
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <input class="btn btn-light dropdown-item {% block nav_room_add %}{% endblock %}" type="submit" value="{{ _('Add room') }}"
             form="scopesForm" formaction="{{ url_for('action_room_add') }}" formmethod="get">
      <input class="btn btn-light dropdown-item {% block nav_room_delete %}{% endblock %}" type="submit" value="{{ _('Delete room') }}"
             form="scopesForm" formaction="{{ url_for('action_room_delete') }}" formmethod="get">
    </div>
  </div>
  <div class="dropdown btn">
    <button class="btn btn-secondary btn-light dropdown-toggle {% block nav_center %}{% endblock %}" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-expanded="false">
        {{ _('Center') }}
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <input class="btn btn-light dropdown-item {% block nav_center_add %}{% endblock %}" type="submit" value="{{ _('Add center') }}"
             form="scopesForm" formaction="{{ url_for('action_center_add') }}" formmethod="get">
      <input class="btn btn-light dropdown-item {% block nav_center_delete %}{% endblock %}" type="submit" value="{{ _('Delete center') }}"
             form="scopesForm" formaction="{{ url_for('action_center_delete') }}" formmethod="get">
    </div>
  </div>
{% endblock %}

{% block content %}
  {{ macros.selected_clients() }}
{% endblock %}
